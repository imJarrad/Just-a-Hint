---
import {
  // AnnouncementBar,
  	Container,
	FeatureCard,
	Button,
	CustomerQuoteSection,
	ThreeColumnTextSection,
	// YouTubeEmbedSection,
  StickyTextImageSection,
  CtaCardSection,
	TextCardSection,
	BlogPostsList,
} from '@littlesticks/odyssey-theme-components';
import Layout from '../layouts/Page.astro';
// import HomeHeroSection from '../components/sections/heros/HomeHeroSection.astro';
import { parse, isBefore } from 'date-fns';
import NewsletterForm from '../components/forms/NewsletterForm.astro';
import { Icon } from 'astro-icon';

const seo = {
	title: 'Home | Just a Hint',
	description: 'Homepage of Word Game hint site Just a Hint',
};

const posts = await Astro.glob('./blog/posts/*.mdx').then(posts =>
	posts
		.map(({ frontmatter, url }) => ({
			title: frontmatter.title,
			description: frontmatter.description,
			authors: frontmatter.authors,
			publishDate: parse(frontmatter.publishDate, 'MMMM d, yyyy', new Date()),
			featuredImage: frontmatter.featuredImage,
			excerpt: frontmatter.excerpt,
			href: url,
		}))
		.sort((a, b) => {
			if (isBefore(a.publishDate, b.publishDate)) return 1;
			if (isBefore(b.publishDate, a.publishDate)) return -1;
			return 0;
		})
);

//images 
import homepage_img_1 from '../assets/images/justahint-3.webp'
import hero_image from '../assets/images/justahint-hero.webp'
---

<!-- // RRSS: here's an announcement bar if you wanna put something up top of this homepage 
<AnnouncementBar text="Read Our Latest Blog Post" href="/blog/posts/remote-work-mental-health/" slot="announcement-bar"/>  -->

<Layout seo={seo} >
	
	<!-- 
		this is the whole code from the homeHeroSection component, 
		I couldn't get the images to work when importing the component, 
		so I've just brought the whole component in here  
	-->

	<Container>
		<section class="hero-section__section">
			<div class="hero-section__text">
					<h1>Don't Lose Your Streak</h1>
					<p>
						We help honest players get unstuck, with daily hints for your favourite games.
					</p>
					<div class="hero-btns__container">
						<Button href="/theme/get-started" customIcon
							>See Today's Hints
				<Fragment slot="icon">
				  <Icon name="ic:baseline-chevron-right"/>
				</Fragment>
				</Button
						>
						<!-- <Button href="/theme/style-guide" unelevated>Style Guide</Button> Uncomment this to get a second button back on the homepage -->
					</div>
			</div>
	
			<div class="hero-section__image"> 
				<image 
					src={hero_image.src}
					alt="ancient greek scholars looking at a daily word game hint."
				/>
			</div>
		</section>
	</Container>

	<CustomerQuoteSection
		quoteText="Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, vero nobis? Voluptas assumenda, voluptatibus commodi qui ducimus delectus praesentium maiores, impedit iure labore ratione, ea facilis numquam doloremque aperiam aspernatur."
		customerName="Happy Customer"
	/>

	<ThreeColumnTextSection>
		<div slot="column-1-body">
			<h2>Why?</h2>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Est dolorem
				tempore odio! Nemo consectetur ipsa aperiam similique maxime maiores
				consequatur explicabo ut quibusdam fugiat corporis, dignissimos tenetur,
				mollitia cumque. Velit.
			</p>
		</div>
		<Button slot="column-1-cta">Learn More</Button>
		<div slot="column-2-body">
			<h2>How?</h2>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Est dolorem
				tempore odio! Nemo consectetur ipsa aperiam similique maxime maiores
				consequatur explicabo ut quibusdam fugiat corporis, dignissimos tenetur,
				mollitia cumque. Velit.
			</p>
		</div>
		<Button slot="column-2-cta" outlined>Learn More</Button>
		<div slot="column-3-body">
			<h2>What?</h2>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Est dolorem
				tempore odio! Nemo consectetur ipsa aperiam similique maxime maiores
				consequatur explicabo ut quibusdam fugiat corporis, dignissimos tenetur,
				mollitia cumque. Velit.
			</p>
		</div>
		<Button slot="column-3-cta">Learn More</Button>
	</ThreeColumnTextSection>

	<!-- <YouTubeEmbedSection url="https://www.youtube.com/watch?v=cbYr75_R15M" rounded /> -->

  <StickyTextImageSection>
		<div slot="text-container">
		<h2>Features</h2>
		<h3>SEO</h3>
		<p>
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Est dolorem
			tempore odio! Nemo consectetur ipsa aperiam similique maxime maiores
			consequatur explicabo ut quibusdam fugiat corporis, dignissimos tenetur,
			mollitia cumque. Velit.
		</p>
		<h3>Responsive</h3>
			<p>
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Est dolorem
			tempore odio! Nemo consectetur ipsa aperiam similique maxime maiores
			consequatur explicabo ut quibusdam fugiat corporis, dignissimos tenetur,
			mollitia cumque. Velit.
		</p>
		<h3>Themeable</h3>
			<p>
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Est dolorem
			tempore odio! Nemo consectetur ipsa aperiam similique maxime maiores
			consequatur explicabo ut quibusdam fugiat corporis, dignissimos tenetur,
			mollitia cumque. Velit.
		</p>
		</div>
		<image 
			slot="image-container"
			src={homepage_img_1.src}
			alt="ancient greek scholars looking at a daily word game hint."
			loading="lazy"
		/>
  </StickyTextImageSection>

  <CtaCardSection background="var(--theme-surface-2)" color="var(--theme-on-surface-2)">
   		 <h2>Start Your Website Today</h2>
   		 <p>It only takes a couple clicks to have a new, modern website for your business or startup.</p>
		<Button href="/theme/get-started" customIcon>Get Started <Fragment slot="icon">
   		<Icon name="ic:baseline-chevron-right"/>
    </Fragment></Button>
  </CtaCardSection>
	
	<Container>
		<section class="feature-card__section">
			<h2>Landing Pages</h2>
			<p>
				Use one of our is this what I'm editing? pages to jumpstart your website or
				ad campaign.
			</p>
			<div class="feature-card__grid">
				<FeatureCard href="/landing-pages/landing-1" title="Landing Page 1" imgSrc="/assets/images/home/screenshots/landing-1">
				</FeatureCard>
				<FeatureCard href="/landing-pages/landing-2" title="Landing Page 2" imgSrc="/assets/images/home/screenshots/landing-2">
				</FeatureCard>
			</div>
		</section>
	</Container>

	<!-- this container is from the template's blog page -->
	<Container>
		<TextCardSection>
			<h1>Odyssey Blog</h1>
			<p>
				View our blog to stay up to date on the latest news about our business.
				Want to be the first to hear about a new blog post? Join our newsletter!
			</p>
			<NewsletterForm />
		</TextCardSection>
		<section class="blog-posts-list__section">
			<h2>Recent Posts</h2>
			<BlogPostsList posts={posts} />
		</section>
	</Container>

</Layout>

<style>
	.feature-card__section {
		margin: var(--section-margin) auto;
	}
	.feature-card__grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: var(--theme-grid-gap);
	}
	@media (max-width: 768px) {
		.feature-card__grid {
			grid-template-columns: 1fr;
		}
	}
/* this blog-posts styling is from the template's blog page */
	.blog-posts-list__section {
		margin: var(--section-margin) auto;
	}

	/* 	
		this styling is for the HomeHeroSection.  
		the only reason it needs to be here is because 
		I had to pull the HomeHeroSection in here because 
		images weren't working when importing the component. 
		If I fix that, remove this styling. 
	*/
	.hero-section__section {
		margin: var(--section-margin) auto;
		min-height: clamp(90vh, 100vw, calc(100vh - var(--navbar-height)));
		display: grid;
		grid-template-columns: 1fr 1fr;
		align-items: center;
		gap: 1rem;
	}
	.hero-section__text {
		justify-self: center;
		max-width: 25rem;
	}
	.hero-btns__container {
		display: flex;
		align-items: center;
		gap: 1rem;
	}
	.hero-btns__container {
		margin-right: 1rem;
	}
	.hero-section__image {
		display: flex;
	}
	.hero-section__image img {
		width: 100%;
		height: 100%;
		max-height: 80vh;
		object-fit: cover;
		border-radius: var(--theme-shape-radius);
	}
	@media (max-width: 768px) {
		.hero-section__section {
			grid-template-columns: 1fr;
		}
	}
</style>
